<!DOCTYPE html>
<html>
	<head>
		<title>Image scaling</title>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	</head>

	<body>
		<h2>Image scaling</h2>
		
		<table>
			<tr>
				<td>Width:</td>
				<td><input type="range" min="10" max="800" value="400" id="width" /></td>
			</tr>
			<tr>
				<td>Height:</td>
				<td><input type="range" min="10" max="800" value="250" id="height" /></td>
			</tr>
			<tr>
				<td></td>
				<td>
					<label><input type="checkbox" id="allowIncrease" /> Allow increase</label>
				</td>
			</tr>
			<tr>
				<td>Scaling style:</td>
				<td>
					<select id="sizing">
						<option value="contain">Contain</option>
						<option value="cover" selected>Cover</option>
						<option value="exec">Exec</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>Horizontal align:</td>
				<td><input type="range" min="0" max="1" value="0.5" step="0.001" id="alignHor" /></td>
				<td>(only for the cover scalign style)</td>
			</tr>
			<tr>
				<td>Vertical align:</td>
				<td><input type="range" min="0" max="1" value="0.5" step="0.001" id="alignVer" /></td>
				<td>(only for the cover scalign style)</td>
			</tr>
			<tr>
				<td></td>
				<td><button id="go">Generate</button></td>
			</tr>
		</table>

		<img src="" alt="" id="display" />
	</body>

	<script>
		document.getElementById( 'go' ).addEventListener( 'click', function( event )
		{
			event.preventDefault();

			var params = {
				width: document.getElementById( 'width' ).value,
				height: document.getElementById( 'height' ).value,
				allowIncrease: document.getElementById( 'allowIncrease' ).checked ? 1 : 0,
				sizing: document.getElementById( 'sizing' ).value,
				alignHor: document.getElementById( 'alignHor' ).value,
				alignVer: document.getElementById( 'alignVer' ).value
			};

			document.getElementById( 'display' ).src = 'image.php?' + Object.keys( params )
				.map( function( param ) {
					return param + '=' + encodeURIComponent( params[ param ]);
				})
				.join( '&' );
		});

		document.getElementById( 'go' ).click();
	</script>
</html>